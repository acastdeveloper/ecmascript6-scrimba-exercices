<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24 - Promises</title>
</head>
<body>
    <a href="./index.html">Tornar</a>
    <hr>
   <h1>Promises</h1>
<a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Promise">MDN - PROMISES</a>
<a href="https://www.freecodecamp.org/espanol/news/promesas-en-javascript-es6/">FREECODECAMP - Curso de promesas</a>
<a href="https://www.freecodecamp.org/espanol/news/como-aprender-promesas-javascript-y-async-await-en-20-minutos/">FREECODECAMP - Cómo aprender Promesas Javascript y Async/Await en 20 minutos</a>

<script>

    // https://scrimba.com/learn/introtoes6/promises-cRDZ29H4
    const buyFlightTicket = ()=>{
        return new Promise((resolve,reject)=>{

            //Emula una resposta asíncrònica amb setTimeout
            setTimeout(()=>{
                const error= false;

                if(error) {
                    reject("Sorry, your payment was not successful");
                } else {
                    resolve("Thank you, your payment was successful");
                }

            },3000);
        });
    }

    buyFlightTicket()
    .then( (success)=>console.log(success))
    .catch( (error)=>console.log(error) );


    // MILLOR EXPLICAT A https://www.youtube.com/watch?v=17oRh8V6pPw Programando con Grover
    const promesa = new Promise((resolve, reject)=>{

        setTimeout(()=>{
            resolve("Dades aconseguides del servidor.");
        },3000);

        setTimeout(()=>{
            reject("No s'han aconseguit les dades del servidor");
        },4000);

    });

    promesa
    .then((response)=>{console.log(response);})
    .catch((error)=>{console.log(error);});


    //


</script>
</body>
</html>
